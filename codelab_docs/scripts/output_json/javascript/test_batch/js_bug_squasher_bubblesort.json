{
  "difficulty": "medium",
  "visualizerParams": {
    "visualizerType": "BugSquasherScenario",
    "visualizerParams": {
      "title": "Bug Squasher: JS Bubble Sort",
      "problemDescription": "Fix the out-of-bounds error in the inner loop of this Bubble Sort implementation.",
      "language": "javascript",
      "buggyCode": "const bubbleSort = (arr) => {\n    const n = arr.length;\n    for (let i = 0; i < n; i++) {\n        for (let j = 0; j < n; j++) { // BUG: Should be n - i - 1\n            if (arr[j] > arr[j + 1]) {\n                [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];\n            }\n        }\n    }\n    return arr;\n};\n\nconsole.log(bubbleSort([5, 1, 4, 2]));",
      "solution": {
        "code": "const bubbleSort = (arr) => {\n    const n = arr.length;\n    for (let i = 0; i < n - 1; i++) {\n        for (let j = 0; j < n - i - 1; j++) {\n            if (arr[j] > arr[j + 1]) {\n                [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];\n            }\n        }\n    }\n    return arr;\n};\n\nconsole.log(bubbleSort([5, 1, 4, 2]));",
        "explanation": "When j equals n-1, arr[j+1] is undefined. The loop should stop at n-i-1."
      }
    }
  }
}